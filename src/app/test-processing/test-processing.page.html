<ion-content>
  <div style="display: flex; flex-direction: column; align-items: center; margin-top: 16px;">
    <ion-button *ngIf="!showCamera" (click)="onStartCameraButtonClick()">Start Camera</ion-button>
    <ion-button *ngIf="showCamera && !showCroppedImage" color="danger" (click)="reset()">Reset</ion-button>
    
    <!-- Button to view detailed analysis after scanning -->
    <ion-button *ngIf="hasResults" (click)="goToResultViewer()">
      View Results
    </ion-button>
  </div>

  <!-- Show camera preview while scanning -->
  <div *ngIf="showCamera && !showCroppedImage" style="position: relative;">
    <video #video autoplay playsinline></video>
    <canvas #canvas></canvas>
  </div>

  <!-- Show cropped image and score after scan -->
  <div *ngIf="showCroppedImage && croppedImageUrl" style="display: flex; flex-direction: column; align-items: center; margin-top: 24px;">
    <div *ngIf="score !== null">Score: {{ score }}</div>
    <h2>Cropped Document</h2>
    <img [src]="croppedImageUrl" alt="Cropped Document" style="max-width: 480px; border: 2px solid #4caf50; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.2);" />
    <ion-button color="primary" style="margin-top: 16px;" (click)="reset()">Scan Another</ion-button>
  </div>
</ion-content>
